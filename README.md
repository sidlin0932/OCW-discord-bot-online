# OCW Discord Bot (v1.3.0)

## 功能特色
- **自動週報**: 每週一自動統計並發送週報。
- **動態評分**: 分數超過 100 分時自動正規化 (Scale Down)。
- **累計 GPA**: 從 2025 Week 40 開始計算累計 GPA。
- **互動矩陣**: `/matrix` 查看全員參與狀況。
- **排行榜**: `/leaderboard` 支援多種時間範圍查詢。

## 成績計算 Policy (v1.3.0)
1. **互動時間基準**: 
   - 統計範圍內的**所有互動** (留言、按讚) 都會計入，不論該討論串是何時建立的。
   - 即使是舊的課程討論串，只要本週有新留言，也會計入本週成績。

2. **動態評分機制**:
   - 基準分: 留言(50%) + 按讚(30%) + 討論串(20%) + 基礎分(80)。
   - **正規化**: 若當週最高分超過 100 分，全體分數將依比例縮放 (最高分=100)，確保分數在 0-100 之間。

3. **累計 GPA**:
   - 起始點: 2025 年第 40 週 (10/1)。
   - 計算方式: 各週 GPA 等權重平均。
   - **空週處理**: 若該週無任何互動紀錄，將不計入 GPA 計算，亦不顯示成績。

### 快速開始 (Render)
1. Fork 本專案或上傳至您的 GitHub。
2. 在 Render 建立 Web Service (Root Directory 設為 `OCW-discord-bot-online`)。
3. 設定環境變數 (參考下方表格)。
4. 使用 UptimeRobot 監控 Render 網址以防止休眠。

## 環境變數
| 變數名稱 | 說明 |
| --- | --- |
| `TOKEN` | Bot Token |
| `GUILD_ID` | 伺服器 ID |
| `FORUM_ID` | 論壇頻道 ID |
| `ANNOUNCEMENT_CHANNEL_ID` | 週報發送頻道 ID |
| `MONGO_URI` | MongoDB 連線字串 |
